//Include all modules
rootProject.name = "axelor-erp"

def requiredModules = [
	"axelor-exception",
	"axelor-tool",
	"axelor-base",
	"axelor-crm",
	"axelor-admin",
	"axelor-message",
	"axelor-account",
	"axelor-supplychain",
	"axelor-purchase",
	"axelor-stock",
	"axelor-sale",
	"axelor-portal"
]

def modules = []
file("modules").traverse(type: groovy.io.FileType.DIRECTORIES, maxDepth: 1) { it ->
	if(requiredModules.contains(it.getName()) && new File(it, "build.gradle").exists()) { modules.add(it) }
}

modules.each { dir ->
	include "modules:$dir.name"
	project(":modules:$dir.name").projectDir = dir
}

gradle.ext.appModules = modules